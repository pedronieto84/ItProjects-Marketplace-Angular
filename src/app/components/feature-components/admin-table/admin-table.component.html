<form>
  <!-- Search -->
  <div class="form-group form-inline">
    Search project by name:
    <input
      class="form-control ml-2"
      type="text"
      name="searchTerm"
      [(ngModel)]="searchTerm"
      (input)="search($event.target.value)"
    />
    <!-- [(ngModel)]="service.searchTerm" [(ngModel)]="sortProjectsService.searchTerm" -->
    <!-- <span class="ml-3" *ngIf="sortProjectsService.loading$ | async">Loading...</span> -->
  </div>

  <!-- Table -->
  <table class="table table-striped table-responsive">
    <!-- Header -->
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col" sortable="title">Name</th>
        <!-- (sort)="onSort($event)" -->
        <th scope="col" sortable="published">Published</th>
        <!-- (sort)="onSort($event)" -->
        <th scope="col" sortable="deadline">Deadline</th>
        <!-- (sort)="onSort($event)" -->
        <th scope="col" sortable="bid">Bid</th>
        <!-- (sort)="onSort($event)" -->
        <th scope="col" sortable="state">State</th>
        <!-- (sort)="onSort($event)" -->
      </tr>
    </thead>

    <!-- Body -->
    <tbody>
      <tr *ngFor="let project of projects | listFilterPipe: searchTerm">
        <!-- Documentation example had an async pipe, like: *ngFor="let project of projects$ | async" -->
        <!-- Id -->
        <th scope="row">{{ project.projectId }}</th>
        <!-- {{ country.id }} -->
        <!-- Name -->
        <td><ngb-highlight [result]="project.title"></ngb-highlight></td>
        <!-- Documentation example: [result]="country.name" [term]="service.searchTerm" -->
        <!-- Published -->
        <td>
          <ngb-highlight
            [result]="project.publishedDate | date: 'dd/MM/yyyy'"
          ></ngb-highlight>
        </td>
        <!-- [result]="country.area | number" [term]="service.searchTerm" -->
        <!-- Deadline -->
        <td>
          <ngb-highlight
            [result]="project.deadline | date: 'dd/MM/yyyy'"
          ></ngb-highlight>
        </td>
        <!-- [result]="country.population | number" [term]="service.searchTerm" -->
        <!-- Bid -->
        <td><ngb-highlight [result]="project.bid"></ngb-highlight></td>
        <!-- State -->
        <td><ngb-highlight [result]="project.state"></ngb-highlight></td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between p-2">
    <!-- Pagination -->
    <ngb-pagination
      [collectionSize]="collectionSize"
      [(page)]="page"
      [maxSize]="5"
      [boundaryLinks]="true"
      [pageSize]="pageSize"
    >
      <!-- [collectionSize]="(total$ | async)!" [(page)]="service.page" [pageSize]="service.pageSize" -->
    </ngb-pagination>

    <!-- Select (Items per page)-->
    <!-- <select class="custom-select" style="width: auto" name="pageSize">  [(ngModel)]="service.pageSize"
      <option [ngValue]="2">2 items per page</option>
      <option [ngValue]="4">4 items per page</option>
      <option [ngValue]="6">6 items per page</option>  [ngValue]="6"
    </select> -->
  </div>
</form>

<!--
<ul>
  <li>an observable async service to fetch a list of countries</li>
  <li>sorting, filtering and pagination</li>
  <li>simulated delay and loading indicator</li>
  <li>debouncing of search requests</li>
</ul>

<form>
  <div class="form-group form-inline">
      Full text search: <input class="form-control ml-2" type="text" name="searchTerm" [(ngModel)]="service.searchTerm"/>
      <span class="ml-3" *ngIf="service.loading$ | async">Loading...</span>
  </div>

  <table class="table table-striped">
    <thead>
    
    </thead>
    <tbody>
    <tr *ngFor="let country of countries$ | async">
      <th scope="row">{{ country.id }}</th>
      <td>
        <img [src]="'https://upload.wikimedia.org/wikipedia/commons/' + country.flag" class="mr-2" style="width: 20px">
        <ngb-highlight [result]="country.name" [term]="service.searchTerm"></ngb-highlight>
      </td>
      <td><ngb-highlight [result]="country.area | number" [term]="service.searchTerm"></ngb-highlight></td>
      <td><ngb-highlight [result]="country.population | number" [term]="service.searchTerm"></ngb-highlight></td>
    </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between p-2">
    <ngb-pagination
      [collectionSize]="(total$ | async)!" [(page)]="service.page" [pageSize]="service.pageSize">
    </ngb-pagination>

    <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="service.pageSize">
      <option [ngValue]="2">2 items per page</option>
      <option [ngValue]="4">4 items per page</option>
      <option [ngValue]="6">6 items per page</option>
    </select>
  </div>

</form>  -->
